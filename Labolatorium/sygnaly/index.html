<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
   <meta name="Author" content="Dr Leszek J. Opalski">
   <meta name="GENERATOR" content="Mozilla/4.72 [en] (Win98; I) [Netscape]">
   <title>SOE-teksty ¼ród³owe: sygna³y</title>
   <link REL="StyleSheet" HREF="../../../SOE.css" TYPE="text/css">
</head>
<body>
<DIV class="header">
<H2>
    <a NAME="TOP" href="../../../index.html">
    Systemy Operacyjne (SOE)</a>
</H2>
      	teksty ¼ród³owe - sygna³y          
</DIV>
Sygna³y, a procesy:
<ul>
<li><a href="nonatomic.c">nonatomic.c</a>&nbsp;&nbsp;-&nbsp; program ilustruj±cy 
mo¿liwe (niedeterministyczne) skutki niepoprawnego przekazywania informacji 
o obs³udze sygna³u przez funkcjê obs³ugi ("handler").</li>
<li><a href="atomic.c">atomic.c</a>&nbsp;&nbsp;-&nbsp; program pokazuj±cy 
poprawny sposób przekazywania informacji o obs³udze sygna³u za pomoc± zmiennej
globalnej typu <b>sig_atomic_t</b> z atrybutem <b>volatile</b>.</li>
<li>
<a href="sig1.c">sig1.c</a>&nbsp;&nbsp;
-&nbsp; program ilustruj±cy zawodno¶æ obs³ugi sygna³ów z u¿yciem <i>signal</i></li>
<li>
<a href="sig2.c">sig2.c</a> - program ilustruj±cy niebezpieczeñstwa wynikaj±ce
z modyfikacji danych globalnych oraz metodê ochrony ''sekcji krytycznej''
za pomoc± maskowania sygna³ów.</li>
<li>Program <a href="pgrp.c">pgrp.c</a> tworzy podprocesy, z których
losowa czê¶æ staje siê przywódcami nowych grup procesów. Proces g³ówny wysy³a
SIGINT do swojej grupy procesów...</li>
<li><a href="prg1.c">prg1.c</a> - przyk³adowe rozwi±zanie nastêpuj±cego zadania:<br>
<tt>	./prg1        N          M</tt><br>
<tt>N</tt>  jest liczb± podprocesów procesu g³ównego, który zosta³ utworzony przez
wywo³anie <tt>prg1</tt>.<br>
Proces g³ówny odbiera sygna³y <tt>SIGINT.</tt> Je¿eli odbierze jeden taki sygna³ 
w ci±gu 1 sekundy, to wysy³a do podprocesu nr <tt>n</tt> (gdzie <tt>0<= n < N</tt>)
sygna³ <tt>SIGUSR1</tt>, a je¶li odbierze wiêcej  - to wysy³a sygna³ <tt>SIGUSR2</tt>.
Po ka¿dym wys³aniu podprocesowi sygna³u (SIGUSR1 albo SIGUSR2) licznik <tt>n</tt> 
w procesie g³ównym jest zwiêkszany o 1 (modulo <tt>N</tt>), 
a proces g³ówny ponawia odbiór sygna³u <tt>SIGINT</tt> itd.<br>
Je¿eli który¶ z podprocesów odbierze <tt>M</tt>-krotnie sygna³ <tt>SIGUSR2</tt> - 
koñczy siê, zwracaj±c procesowi g³ównemu warto¶æ licznika odebranych sygna³ów <tt>SIGUSR1</tt>.
Proces g³ówny wykrywa zakoñczenie procesu potomnego, wy¶wietla na standardowym 
wyj¶ciu <tt>PID</tt> potomka i kod jego wyj¶cia, po czym za pomoc± sygna³u <tt>SIGTERM</tt>
powoduje zakoñczenie wszystkich pozosta³ych procesów potomnych oraz siebie.</li>
<li> <a href="sigwait1.c">sigwait1.c</a> - najprostszy przyk³ad wykorzystanie funkcji POSIX
<tt>sigwait</tt> w procesie jednow±tkowym do oczekiwania na przyj¶cie sygna³u ("synchroniczne oczekiwanie
na zdarzenie asynchroniczne"). </li>
</ul>
Sygna³y, a w±tki:
<ul>
<li>
<a href="sigwait2.c">sigwait2.c</a> - najprostszy przyk³ad wykorzystanie funkcji POSIX
<tt>sigwait</tt> w procesie wielow±tkowym do oczekiwania na przyj¶cie sygna³u ("synchroniczne oczekiwanie
na zdarzenie asynchroniczne"). </li>
<li>
<a href="sig3.c">sig3.c</a> - przyk³ad u¿ycia maski sygna³ów w±tku do
okre¶lenia tego w±tku, którego wykonanie jest przerywane przy dorêczeniu sygna³u
do procesu. W±tek g³ówny czeka aktywnie na powiadomienie (przez zmienn± globaln±)
o obs³udze sygna³u.</li>
<li>
<a href="sig4.c">sig4.c</a> - przyk³ad u¿ycia maski sygna³ów w±tku do
okre¶lenia tego w±tku, którego wykonanie jest przerywane przy dorêczeniu sygna³u
do procesu. Przyk³ad wykorzystanie funkcji POSIX <tt>sigwait</tt>.</li>
<li><a href="sygnaly.zip">Archiwum</a> plików z bie¿±cego katalogu</li>
</ul>

<hr size="3" width="100%">                   
<font size=-2> <i>Ostatnia modyfikacja:</i> 27.03.2017 (LJO)</font>   

</body>
</html>
